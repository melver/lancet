Lancet
======

**Helps launch simulations, organize the output, and dissect the results.**

To obtain Lancet, run::

   git clone git://github.com/ioam/lancet.git

In common with many projects on `IOAM <https://github.com/ioam>`_, Lancet uses `param <https://github.com/ioam/param>`_, so make sure to install it with ``pip install param``.

Introduction
____________

Lancet is designed to help you organize the output of your research tools, store it, and dissect the data you have collected. The output of a single simulation or analysis rarely contains all the data you need; Lancet helps you generate data from many runs and analyse it using your own Python code.

Parameter spaces often need to be explored for the purpose of plotting, tuning, or analysis. Lancet helps you extract the information you care about from potentially enormous volumes of data generated by such parameter exploration.

Features
________

* A simple, useful core with advanced functionality strictly optional. Use what you need without learning about all components.

* Declarative style to help ensure your work is reproducible.

* The core and the optional Topographica interface are actively being used for research.

* Succinctly express the high dimensional parameter spaces you wish to explore, without nested loops. For example, using the Cartesian product:

>>> from lancet import Range
>>> space = ( Range('exc',1, 20, steps=100)
             * Range('inh',-10, -20, steps=100)
             * Range('gNa',0.05, 0.10,  steps=10))
>>> len(space) # 3-dimensional parameter space of 100000 points.
 100000

* Automatically log your work to a file, serialised as JSON::

   $ less example.log
   0 {"gNa": 0.050, "inh": -10.0, "exc": 1.0}
   1 {"gNa": 0.055, "inh": -10.0, "exc": 1.0}
   2 {"gNa": 0.061, "inh": -10.0, "exc": 1.0}
   ...

* Easily use external tools outside of Python to launch hundreds of concurrent simulations, locally or on a cluster (e.g. using Grid Engine). Quickly switch between working locally and working on a cluster::

   from lancet import Launcher, QLauncher

   cluster = True  # False to run locally
   Launcher = QLauncher if cluster else Launcher

* Get the appropriate review for your chosen workflow, according to the components you chose, keeping your output in one place::

   from lancet import review_and_launch, Range

   @review_and_launch(output_directory='./factors', review=True)
   def model_analysis():
     # pspace = Range('exc',1, 20, 10) * Range('inh',-10, -20, 10)
     " Set up your launch settings and the tool you want to use here "
     ...
     return launcher

.. Consider using factor N as an example

* Core classes designed to be extended to match your workflow. Components for integration with the `Topographica simulator <https://github.com/ioam/topographica>`_ are available in the corresponding Topographica Lancet extension. These allow you to analyze your model both within simulations as they run and across simulations once all the data is collected.

* Supports an interactive, reproducible workflow with `Pandas <http://pandas.pydata.org/>`_ and `IPython <http://ipython.org/>`_.

..
  ## Background

  Python has gained significant traction in the research community as a way of prototyping ideas and succinctly expressing simulations and analysis in a free, open language. To illustrate, Python has rapidly gained popularity   in neuroinformatics and computational neuroscience, with journals publishing dedicating issues on the use of the language `Frontiers in Neuroinformatics <http://www.frontiersin.org/neuroinformatics/researchtopics/Python_in_neuroscience/8>`_. A selection of neuroscientific tools using Python can be found at `neuralensemble.org <http://neuralensemble.org/`_ and lancet itself was originally written as part of the `Topographica neural simulator <https://github.com/ioam/topographica>`_.


Contributors
____________

`Jean-Luc Stevens <https://github.com/jlstevens>`_: Original coding and design

`Marco Elver <https://github.com/melver>`_ <me [at] marcoelver.com>: Python 3 fork, cleaned up many aspects of the design.
